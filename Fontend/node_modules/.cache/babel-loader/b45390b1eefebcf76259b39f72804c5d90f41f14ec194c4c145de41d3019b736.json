{"ast":null,"code":"var _jsxFileName = \"D:\\\\game\\\\Fontend\\\\src\\\\components\\\\game\\\\GameCanvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport spriteImg from '../../assets/images/sprite.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameCanvas = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [game, setGame] = useState('start');\n  const [frame, setFrame] = useState(0);\n  const sprites = useRef(new Image());\n  sprite.current.src = spriteImg;\n  const requestRef = useRef();\n  const ctx = useRef(null);\n\n  // Khởi tạo state game\n  const bird = useRef(null);\n  const arrGround = useRef([]);\n  const arrPipes = useRef([]);\n  const score = useRef({\n    value: 0\n  });\n  const maxScore = useRef({\n    value: 0\n  });\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.width = 530;\n    canvas.height = 710;\n    ctx.current = canvas.getContext('2d');\n    sprites.current.src = '../../assets/images/sprite.png';\n    sprites.current.onload = () => {\n      initializeGame();\n      animate();\n    };\n    canvas.addEventListener('click', handleClick);\n    return () => canvas.removeEventListener('click', handleClick);\n  }, []);\n  const handleClick = event => {\n    const canvas = canvasRef.current;\n    switch (game) {\n      case 'start':\n        setGame('play');\n        break;\n      case 'play':\n        bird.current.v = -8;\n        break;\n      case 'end':\n        if (event.offsetX > canvas.width / 2 - 41.5 && event.offsetX < canvas.width / 2 + 41.5 && event.offsetY > 500 && event.offsetY < 546) {\n          score.current.value = 0;\n          arrPipes.current = [];\n          newPipes();\n          bird.current.v = 0;\n          bird.current.cY = canvas.height / 2 - 12;\n          setGame('start');\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const initializeGame = () => {\n    // init Bird\n    bird.current = {\n      cX: 150,\n      cY: 710 / 2 - 12,\n      animate: [{\n        sX: 840,\n        sY: 0\n      }, {\n        sX: 900,\n        sY: 0\n      }, {\n        sX: 960,\n        sY: 0\n      }],\n      sW: 51,\n      sH: 36,\n      cW: 51,\n      cH: 36,\n      i: 0,\n      v: 0,\n      a: 0.5,\n      update() {\n        if (game === 'play' || game === 'end') {\n          this.v += this.a;\n          this.cY += this.v;\n\n          // chạm nền\n          if (this.cY + this.cH + this.v >= 625) {\n            setGame('end');\n            this.v = 0;\n            this.cY = 625;\n          }\n\n          // chạm ống\n          const pipe = arrPipes.current[0];\n          if (this.cX + this.cW > pipe.cX && this.cX < pipe.cX + pipe.cW && (this.cY < pipe.cY + pipe.cH || this.cY + this.cH > pipe.cY + pipe.cH + pipe.space)) {\n            setGame('end');\n          }\n\n          // ăn điểm\n          if (this.cX === pipe.cX + 82 || this.cX === pipe.cX + 81) {\n            score.current.value++;\n            maxScore.current.value = Math.max(score.current.value, maxScore.current.value);\n          }\n        }\n      },\n      draw() {\n        if (!ctx.current) return;\n        const sprite = this.animate[this.i];\n        ctx.current.drawImage(sprites.current, sprite.sX, sprite.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH);\n      }\n    };\n\n    // init Ground\n    arrGround.current = [];\n    for (let i = 0; i < 4; i++) {\n      arrGround.current.push({\n        cX: 215 * i,\n        cY: 625,\n        dx: -2,\n        draw() {\n          ctx.current.drawImage(sprites.current, 624, 0, 215, 143, this.cX, this.cY, 215, 143);\n        }\n      });\n    }\n\n    // init Pipes\n    newPipes();\n  };\n  const newPipes = () => {\n    for (let i = 0; i < 4; i++) {\n      arrPipes.current.push({\n        cX: random(530, 600) * i,\n        cY: random(-660, -300),\n        space: 200,\n        cW: 82,\n        cH: 710,\n        dx: -2,\n        draw() {\n          const ctx2d = ctx.current;\n          ctx2d.drawImage(sprites.current, 0, 0, 82, 710, this.cX, this.cY, this.cW, this.cH);\n          ctx2d.drawImage(sprites.current, 1261, 0, 82, 710, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\n        }\n      });\n    }\n  };\n  const updateArrGround = () => {\n    arrGround.current.forEach(g => g.cX += g.dx);\n    if (arrGround.current[0].cX <= -336) {\n      arrGround.current.shift();\n      const newGround = {\n        cX: arrGround.current[2].cX + 215,\n        cY: 625,\n        dx: -2,\n        draw() {\n          ctx.current.drawImage(sprites.current, 624, 0, 215, 143, this.cX, this.cY, 215, 143);\n        }\n      };\n      arrGround.current.push(newGround);\n    }\n  };\n  const updateArrPipe = () => {\n    arrPipes.current.forEach(p => p.cX += p.dx);\n    if (arrPipes.current[0].cX <= -82) {\n      arrPipes.current.shift();\n      const newPipe = {\n        cX: arrPipes.current[arrPipes.current.length - 1].cX + random(400, 500),\n        cY: random(-660, -300),\n        space: random(150, 200),\n        cW: 82,\n        cH: 710,\n        dx: -2,\n        draw() {\n          const ctx2d = ctx.current;\n          ctx2d.drawImage(sprites.current, 0, 0, 82, 710, this.cX, this.cY, this.cW, this.cH);\n          ctx2d.drawImage(sprites.current, 1261, 0, 82, 710, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\n        }\n      };\n      arrPipes.current.push(newPipe);\n    }\n  };\n  const drawBackground = () => {\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 0, 0, 229, 625);\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 229, 0, 229, 625);\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 458, 0, 229, 625);\n  };\n  const draw = () => {\n    drawBackground();\n    arrPipes.current.forEach(p => p.draw());\n    arrGround.current.forEach(g => g.draw());\n    bird.current.draw();\n  };\n  const update = () => {\n    if (game === 'play') {\n      updateArrPipe();\n      updateArrGround();\n    }\n    bird.current.update();\n  };\n  const animate = () => {\n    requestRef.current = requestAnimationFrame(animate);\n    ctx.current.clearRect(0, 0, 530, 710);\n    setFrame(prev => prev + 1);\n    draw();\n    update();\n  };\n  const random = (min, max) => Math.ceil(Math.random() * (max - min) + min);\n  sprites.current.onload = () => {\n    initializeGame();\n    animate();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"canvas\",\n      style: {\n        border: '1px solid black'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 298,\n    columnNumber: 5\n  }, this);\n};\n_s(GameCanvas, \"ICis72SNSxZXOCoS3HZdaQQfWHs=\");\n_c = GameCanvas;\nexport default GameCanvas;\nvar _c;\n$RefreshReg$(_c, \"GameCanvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","spriteImg","jsxDEV","_jsxDEV","GameCanvas","_s","canvasRef","game","setGame","frame","setFrame","sprites","Image","sprite","current","src","requestRef","ctx","bird","arrGround","arrPipes","score","value","maxScore","canvas","width","height","getContext","onload","initializeGame","animate","addEventListener","handleClick","removeEventListener","event","v","offsetX","offsetY","newPipes","cY","cX","sX","sY","sW","sH","cW","cH","i","a","update","pipe","space","Math","max","draw","drawImage","push","dx","random","ctx2d","updateArrGround","forEach","g","shift","newGround","updateArrPipe","p","newPipe","length","drawBackground","requestAnimationFrame","clearRect","prev","min","ceil","children","ref","className","style","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/game/Fontend/src/components/game/GameCanvas.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\nimport spriteImg from '../../assets/images/sprite.png';\r\n\r\nconst GameCanvas= () => {\r\n  const canvasRef = useRef(null);\r\n  const [game, setGame] = useState('start');\r\n  const [frame, setFrame] = useState(0);\r\n\r\n  const sprites = useRef(new Image());\r\n  sprite.current.src = spriteImg;\r\n\r\n  const requestRef = useRef();\r\n  const ctx = useRef(null);\r\n\r\n  // Khởi tạo state game\r\n  const bird = useRef(null);\r\n  const arrGround = useRef([]);\r\n  const arrPipes = useRef([]);\r\n  const score = useRef({ value: 0 });\r\n  const maxScore = useRef({ value: 0 });\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 530;\r\n    canvas.height = 710;\r\n    ctx.current = canvas.getContext('2d');\r\n    sprites.current.src = '../../assets/images/sprite.png';\r\n\r\n    sprites.current.onload = () => {\r\n      initializeGame();\r\n      animate();\r\n    };\r\n\r\n    canvas.addEventListener('click', handleClick);\r\n    return () => canvas.removeEventListener('click', handleClick);\r\n  }, []);\r\n\r\n  const handleClick = (event) => {\r\n    const canvas = canvasRef.current;\r\n    switch (game) {\r\n      case 'start':\r\n        setGame('play');\r\n        break;\r\n      case 'play':\r\n        bird.current.v = -8;\r\n        break;\r\n      case 'end':\r\n        if (\r\n          event.offsetX > canvas.width / 2 - 41.5 &&\r\n          event.offsetX < canvas.width / 2 + 41.5 &&\r\n          event.offsetY > 500 &&\r\n          event.offsetY < 546\r\n        ) {\r\n          score.current.value = 0;\r\n          arrPipes.current = [];\r\n          newPipes();\r\n          bird.current.v = 0;\r\n          bird.current.cY = canvas.height / 2 - 12;\r\n          setGame('start');\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const initializeGame = () => {\r\n    // init Bird\r\n    bird.current = {\r\n      cX: 150,\r\n      cY: 710 / 2 - 12,\r\n      animate: [{ sX: 840, sY: 0 }, { sX: 900, sY: 0 }, { sX: 960, sY: 0 }],\r\n      sW: 51,\r\n      sH: 36,\r\n      cW: 51,\r\n      cH: 36,\r\n      i: 0,\r\n      v: 0,\r\n      a: 0.5,\r\n      update() {\r\n        if (game === 'play' || game === 'end') {\r\n          this.v += this.a;\r\n          this.cY += this.v;\r\n\r\n          // chạm nền\r\n          if (this.cY + this.cH + this.v >= 625) {\r\n            setGame('end');\r\n            this.v = 0;\r\n            this.cY = 625;\r\n          }\r\n\r\n          // chạm ống\r\n          const pipe = arrPipes.current[0];\r\n          if (\r\n            this.cX + this.cW > pipe.cX &&\r\n            this.cX < pipe.cX + pipe.cW &&\r\n            (this.cY < pipe.cY + pipe.cH ||\r\n              this.cY + this.cH > pipe.cY + pipe.cH + pipe.space)\r\n          ) {\r\n            setGame('end');\r\n          }\r\n\r\n          // ăn điểm\r\n          if (this.cX === pipe.cX + 82 || this.cX === pipe.cX + 81) {\r\n            score.current.value++;\r\n            maxScore.current.value = Math.max(\r\n              score.current.value,\r\n              maxScore.current.value\r\n            );\r\n          }\r\n        }\r\n      },\r\n      draw() {\r\n        if (!ctx.current) return;\r\n        const sprite = this.animate[this.i];\r\n        ctx.current.drawImage(\r\n          sprites.current,\r\n          sprite.sX,\r\n          sprite.sY,\r\n          this.sW,\r\n          this.sH,\r\n          this.cX,\r\n          this.cY,\r\n          this.cW,\r\n          this.cH\r\n        );\r\n      },\r\n    };\r\n\r\n    // init Ground\r\n    arrGround.current = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      arrGround.current.push({\r\n        cX: 215 * i,\r\n        cY: 625,\r\n        dx: -2,\r\n        draw() {\r\n          ctx.current.drawImage(\r\n            sprites.current,\r\n            624,\r\n            0,\r\n            215,\r\n            143,\r\n            this.cX,\r\n            this.cY,\r\n            215,\r\n            143\r\n          );\r\n        },\r\n      });\r\n    }\r\n\r\n    // init Pipes\r\n    newPipes();\r\n  };\r\n\r\n  const newPipes = () => {\r\n    for (let i = 0; i < 4; i++) {\r\n      arrPipes.current.push({\r\n        cX: random(530, 600) * i,\r\n        cY: random(-660, -300),\r\n        space: 200,\r\n        cW: 82,\r\n        cH: 710,\r\n        dx: -2,\r\n        draw() {\r\n          const ctx2d = ctx.current;\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            0,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            1261,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY + this.cH + this.space,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateArrGround = () => {\r\n    arrGround.current.forEach((g) => (g.cX += g.dx));\r\n    if (arrGround.current[0].cX <= -336) {\r\n      arrGround.current.shift();\r\n      const newGround = {\r\n        cX: arrGround.current[2].cX + 215,\r\n        cY: 625,\r\n        dx: -2,\r\n        draw() {\r\n          ctx.current.drawImage(\r\n            sprites.current,\r\n            624,\r\n            0,\r\n            215,\r\n            143,\r\n            this.cX,\r\n            this.cY,\r\n            215,\r\n            143\r\n          );\r\n        },\r\n      };\r\n      arrGround.current.push(newGround);\r\n    }\r\n  };\r\n\r\n  const updateArrPipe = () => {\r\n    arrPipes.current.forEach((p) => (p.cX += p.dx));\r\n    if (arrPipes.current[0].cX <= -82) {\r\n      arrPipes.current.shift();\r\n      const newPipe = {\r\n        cX: arrPipes.current[arrPipes.current.length - 1].cX + random(400, 500),\r\n        cY: random(-660, -300),\r\n        space: random(150, 200),\r\n        cW: 82,\r\n        cH: 710,\r\n        dx: -2,\r\n        draw() {\r\n          const ctx2d = ctx.current;\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            0,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            1261,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY + this.cH + this.space,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n        },\r\n      };\r\n      arrPipes.current.push(newPipe);\r\n    }\r\n  };\r\n\r\n  const drawBackground = () => {\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 0, 0, 229, 625);\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 229, 0, 229, 625);\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 458, 0, 229, 625);\r\n  };\r\n\r\n  const draw = () => {\r\n    drawBackground();\r\n    arrPipes.current.forEach((p) => p.draw());\r\n    arrGround.current.forEach((g) => g.draw());\r\n    bird.current.draw();\r\n  };\r\n\r\n  const update = () => {\r\n    if (game === 'play') {\r\n      updateArrPipe();\r\n      updateArrGround();\r\n    }\r\n    bird.current.update();\r\n  };\r\n\r\n  const animate = () => {\r\n    requestRef.current = requestAnimationFrame(animate);\r\n    ctx.current.clearRect(0, 0, 530, 710);\r\n    setFrame((prev) => prev + 1);\r\n    draw();\r\n    update();\r\n  };\r\n\r\n  const random = (min, max) => Math.ceil(Math.random() * (max - min) + min);\r\n  sprites.current.onload = () => {\r\n    initializeGame();\r\n    animate();  \r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <canvas ref={canvasRef} className=\"canvas\" style={{ border: '1px solid black' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameCanvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}