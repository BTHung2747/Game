{"ast":null,"code":"var _jsxFileName = \"D:\\\\game\\\\Fontend\\\\src\\\\components\\\\game\\\\GameCanvas.jsx\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameCanvas = () => {\n  _s();\n  const canvasRef = useRef(null);\n  const [game, setGame] = useState('start');\n  const [frame, setFrame] = useState(0);\n  const sprites = useRef(new Image());\n  const requestRef = useRef();\n  const ctx = useRef(null);\n\n  // Khởi tạo state game\n  const bird = useRef(null);\n  const arrGround = useRef([]);\n  const arrPipes = useRef([]);\n  const score = useRef({\n    value: 0\n  });\n  const maxScore = useRef({\n    value: 0\n  });\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    canvas.width = 530;\n    canvas.height = 710;\n    ctx.current = canvas.getContext('2d');\n    sprites.current.src = '../../assets/images/sprite.png';\n    sprites.current.onload = () => {\n      initializeGame();\n      animate();\n    };\n    canvas.addEventListener('click', handleClick);\n    return () => canvas.removeEventListener('click', handleClick);\n  }, []);\n  const handleClick = event => {\n    const canvas = canvasRef.current;\n    switch (game) {\n      case 'start':\n        setGame('play');\n        break;\n      case 'play':\n        bird.current.v = -8;\n        break;\n      case 'end':\n        if (event.offsetX > canvas.width / 2 - 41.5 && event.offsetX < canvas.width / 2 + 41.5 && event.offsetY > 500 && event.offsetY < 546) {\n          score.current.value = 0;\n          arrPipes.current = [];\n          newPipes();\n          bird.current.v = 0;\n          bird.current.cY = canvas.height / 2 - 12;\n          setGame('start');\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const initializeGame = () => {\n    // init Bird\n    bird.current = {\n      cX: 150,\n      cY: 710 / 2 - 12,\n      animate: [{\n        sX: 840,\n        sY: 0\n      }, {\n        sX: 900,\n        sY: 0\n      }, {\n        sX: 960,\n        sY: 0\n      }],\n      sW: 51,\n      sH: 36,\n      cW: 51,\n      cH: 36,\n      i: 0,\n      v: 0,\n      a: 0.5,\n      update() {\n        if (game === 'play' || game === 'end') {\n          this.v += this.a;\n          this.cY += this.v;\n\n          // chạm nền\n          if (this.cY + this.cH + this.v >= 625) {\n            setGame('end');\n            this.v = 0;\n            this.cY = 625;\n          }\n\n          // chạm ống\n          const pipe = arrPipes.current[0];\n          if (this.cX + this.cW > pipe.cX && this.cX < pipe.cX + pipe.cW && (this.cY < pipe.cY + pipe.cH || this.cY + this.cH > pipe.cY + pipe.cH + pipe.space)) {\n            setGame('end');\n          }\n\n          // ăn điểm\n          if (this.cX === pipe.cX + 82 || this.cX === pipe.cX + 81) {\n            score.current.value++;\n            maxScore.current.value = Math.max(score.current.value, maxScore.current.value);\n          }\n        }\n      },\n      draw() {\n        if (!ctx.current) return;\n        const sprite = this.animate[this.i];\n        ctx.current.drawImage(sprites.current, sprite.sX, sprite.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH);\n      }\n    };\n\n    // init Ground\n    arrGround.current = [];\n    for (let i = 0; i < 4; i++) {\n      arrGround.current.push({\n        cX: 215 * i,\n        cY: 625,\n        dx: -2,\n        draw() {\n          ctx.current.drawImage(sprites.current, 624, 0, 215, 143, this.cX, this.cY, 215, 143);\n        }\n      });\n    }\n\n    // init Pipes\n    newPipes();\n  };\n  const newPipes = () => {\n    for (let i = 0; i < 4; i++) {\n      arrPipes.current.push({\n        cX: random(530, 600) * i,\n        cY: random(-660, -300),\n        space: 200,\n        cW: 82,\n        cH: 710,\n        dx: -2,\n        draw() {\n          const ctx2d = ctx.current;\n          ctx2d.drawImage(sprites.current, 0, 0, 82, 710, this.cX, this.cY, this.cW, this.cH);\n          ctx2d.drawImage(sprites.current, 1261, 0, 82, 710, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\n        }\n      });\n    }\n  };\n  const updateArrGround = () => {\n    arrGround.current.forEach(g => g.cX += g.dx);\n    if (arrGround.current[0].cX <= -336) {\n      arrGround.current.shift();\n      const newGround = {\n        cX: arrGround.current[2].cX + 215,\n        cY: 625,\n        dx: -2,\n        draw() {\n          ctx.current.drawImage(sprites.current, 624, 0, 215, 143, this.cX, this.cY, 215, 143);\n        }\n      };\n      arrGround.current.push(newGround);\n    }\n  };\n  const updateArrPipe = () => {\n    arrPipes.current.forEach(p => p.cX += p.dx);\n    if (arrPipes.current[0].cX <= -82) {\n      arrPipes.current.shift();\n      const newPipe = {\n        cX: arrPipes.current[arrPipes.current.length - 1].cX + random(400, 500),\n        cY: random(-660, -300),\n        space: random(150, 200),\n        cW: 82,\n        cH: 710,\n        dx: -2,\n        draw() {\n          const ctx2d = ctx.current;\n          ctx2d.drawImage(sprites.current, 0, 0, 82, 710, this.cX, this.cY, this.cW, this.cH);\n          ctx2d.drawImage(sprites.current, 1261, 0, 82, 710, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\n        }\n      };\n      arrPipes.current.push(newPipe);\n    }\n  };\n  const drawBackground = () => {\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 0, 0, 229, 625);\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 229, 0, 229, 625);\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 458, 0, 229, 625);\n  };\n  const draw = () => {\n    drawBackground();\n    arrPipes.current.forEach(p => p.draw());\n    arrGround.current.forEach(g => g.draw());\n    bird.current.draw();\n  };\n  const update = () => {\n    if (game === 'play') {\n      updateArrPipe();\n      updateArrGround();\n    }\n    bird.current.update();\n  };\n  const animate = () => {\n    requestRef.current = requestAnimationFrame(animate);\n    ctx.current.clearRect(0, 0, 530, 710);\n    setFrame(prev => prev + 1);\n    draw();\n    update();\n  };\n  const random = (min, max) => Math.ceil(Math.random() * (max - min) + min);\n  sprites.current.onload = () => {\n    initializeGame();\n    animate();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"canvas\",\n      style: {\n        border: '1px solid black'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n};\n_s(GameCanvas, \"ICis72SNSxZXOCoS3HZdaQQfWHs=\");\n_c = GameCanvas;\nexport default GameCanvas;\nvar _c;\n$RefreshReg$(_c, \"GameCanvas\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","GameCanvas","_s","canvasRef","game","setGame","frame","setFrame","sprites","Image","requestRef","ctx","bird","arrGround","arrPipes","score","value","maxScore","canvas","current","width","height","getContext","src","onload","initializeGame","animate","addEventListener","handleClick","removeEventListener","event","v","offsetX","offsetY","newPipes","cY","cX","sX","sY","sW","sH","cW","cH","i","a","update","pipe","space","Math","max","draw","sprite","drawImage","push","dx","random","ctx2d","updateArrGround","forEach","g","shift","newGround","updateArrPipe","p","newPipe","length","drawBackground","requestAnimationFrame","clearRect","prev","min","ceil","children","ref","className","style","border","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/game/Fontend/src/components/game/GameCanvas.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nconst GameCanvas= () => {\r\n  const canvasRef = useRef(null);\r\n  const [game, setGame] = useState('start');\r\n  const [frame, setFrame] = useState(0);\r\n  const sprites = useRef(new Image());\r\n  const requestRef = useRef();\r\n  const ctx = useRef(null);\r\n\r\n  // Khởi tạo state game\r\n  const bird = useRef(null);\r\n  const arrGround = useRef([]);\r\n  const arrPipes = useRef([]);\r\n  const score = useRef({ value: 0 });\r\n  const maxScore = useRef({ value: 0 });\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    canvas.width = 530;\r\n    canvas.height = 710;\r\n    ctx.current = canvas.getContext('2d');\r\n    sprites.current.src = '../../assets/images/sprite.png';\r\n\r\n    sprites.current.onload = () => {\r\n      initializeGame();\r\n      animate();\r\n    };\r\n\r\n    canvas.addEventListener('click', handleClick);\r\n    return () => canvas.removeEventListener('click', handleClick);\r\n  }, []);\r\n\r\n  const handleClick = (event) => {\r\n    const canvas = canvasRef.current;\r\n    switch (game) {\r\n      case 'start':\r\n        setGame('play');\r\n        break;\r\n      case 'play':\r\n        bird.current.v = -8;\r\n        break;\r\n      case 'end':\r\n        if (\r\n          event.offsetX > canvas.width / 2 - 41.5 &&\r\n          event.offsetX < canvas.width / 2 + 41.5 &&\r\n          event.offsetY > 500 &&\r\n          event.offsetY < 546\r\n        ) {\r\n          score.current.value = 0;\r\n          arrPipes.current = [];\r\n          newPipes();\r\n          bird.current.v = 0;\r\n          bird.current.cY = canvas.height / 2 - 12;\r\n          setGame('start');\r\n        }\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const initializeGame = () => {\r\n    // init Bird\r\n    bird.current = {\r\n      cX: 150,\r\n      cY: 710 / 2 - 12,\r\n      animate: [{ sX: 840, sY: 0 }, { sX: 900, sY: 0 }, { sX: 960, sY: 0 }],\r\n      sW: 51,\r\n      sH: 36,\r\n      cW: 51,\r\n      cH: 36,\r\n      i: 0,\r\n      v: 0,\r\n      a: 0.5,\r\n      update() {\r\n        if (game === 'play' || game === 'end') {\r\n          this.v += this.a;\r\n          this.cY += this.v;\r\n\r\n          // chạm nền\r\n          if (this.cY + this.cH + this.v >= 625) {\r\n            setGame('end');\r\n            this.v = 0;\r\n            this.cY = 625;\r\n          }\r\n\r\n          // chạm ống\r\n          const pipe = arrPipes.current[0];\r\n          if (\r\n            this.cX + this.cW > pipe.cX &&\r\n            this.cX < pipe.cX + pipe.cW &&\r\n            (this.cY < pipe.cY + pipe.cH ||\r\n              this.cY + this.cH > pipe.cY + pipe.cH + pipe.space)\r\n          ) {\r\n            setGame('end');\r\n          }\r\n\r\n          // ăn điểm\r\n          if (this.cX === pipe.cX + 82 || this.cX === pipe.cX + 81) {\r\n            score.current.value++;\r\n            maxScore.current.value = Math.max(\r\n              score.current.value,\r\n              maxScore.current.value\r\n            );\r\n          }\r\n        }\r\n      },\r\n      draw() {\r\n        if (!ctx.current) return;\r\n        const sprite = this.animate[this.i];\r\n        ctx.current.drawImage(\r\n          sprites.current,\r\n          sprite.sX,\r\n          sprite.sY,\r\n          this.sW,\r\n          this.sH,\r\n          this.cX,\r\n          this.cY,\r\n          this.cW,\r\n          this.cH\r\n        );\r\n      },\r\n    };\r\n\r\n    // init Ground\r\n    arrGround.current = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      arrGround.current.push({\r\n        cX: 215 * i,\r\n        cY: 625,\r\n        dx: -2,\r\n        draw() {\r\n          ctx.current.drawImage(\r\n            sprites.current,\r\n            624,\r\n            0,\r\n            215,\r\n            143,\r\n            this.cX,\r\n            this.cY,\r\n            215,\r\n            143\r\n          );\r\n        },\r\n      });\r\n    }\r\n\r\n    // init Pipes\r\n    newPipes();\r\n  };\r\n\r\n  const newPipes = () => {\r\n    for (let i = 0; i < 4; i++) {\r\n      arrPipes.current.push({\r\n        cX: random(530, 600) * i,\r\n        cY: random(-660, -300),\r\n        space: 200,\r\n        cW: 82,\r\n        cH: 710,\r\n        dx: -2,\r\n        draw() {\r\n          const ctx2d = ctx.current;\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            0,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            1261,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY + this.cH + this.space,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const updateArrGround = () => {\r\n    arrGround.current.forEach((g) => (g.cX += g.dx));\r\n    if (arrGround.current[0].cX <= -336) {\r\n      arrGround.current.shift();\r\n      const newGround = {\r\n        cX: arrGround.current[2].cX + 215,\r\n        cY: 625,\r\n        dx: -2,\r\n        draw() {\r\n          ctx.current.drawImage(\r\n            sprites.current,\r\n            624,\r\n            0,\r\n            215,\r\n            143,\r\n            this.cX,\r\n            this.cY,\r\n            215,\r\n            143\r\n          );\r\n        },\r\n      };\r\n      arrGround.current.push(newGround);\r\n    }\r\n  };\r\n\r\n  const updateArrPipe = () => {\r\n    arrPipes.current.forEach((p) => (p.cX += p.dx));\r\n    if (arrPipes.current[0].cX <= -82) {\r\n      arrPipes.current.shift();\r\n      const newPipe = {\r\n        cX: arrPipes.current[arrPipes.current.length - 1].cX + random(400, 500),\r\n        cY: random(-660, -300),\r\n        space: random(150, 200),\r\n        cW: 82,\r\n        cH: 710,\r\n        dx: -2,\r\n        draw() {\r\n          const ctx2d = ctx.current;\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            0,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n          ctx2d.drawImage(\r\n            sprites.current,\r\n            1261,\r\n            0,\r\n            82,\r\n            710,\r\n            this.cX,\r\n            this.cY + this.cH + this.space,\r\n            this.cW,\r\n            this.cH\r\n          );\r\n        },\r\n      };\r\n      arrPipes.current.push(newPipe);\r\n    }\r\n  };\r\n\r\n  const drawBackground = () => {\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 0, 0, 229, 625);\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 229, 0, 229, 625);\r\n    ctx.current.drawImage(sprites.current, 163, 0, 225, 625, 458, 0, 229, 625);\r\n  };\r\n\r\n  const draw = () => {\r\n    drawBackground();\r\n    arrPipes.current.forEach((p) => p.draw());\r\n    arrGround.current.forEach((g) => g.draw());\r\n    bird.current.draw();\r\n  };\r\n\r\n  const update = () => {\r\n    if (game === 'play') {\r\n      updateArrPipe();\r\n      updateArrGround();\r\n    }\r\n    bird.current.update();\r\n  };\r\n\r\n  const animate = () => {\r\n    requestRef.current = requestAnimationFrame(animate);\r\n    ctx.current.clearRect(0, 0, 530, 710);\r\n    setFrame((prev) => prev + 1);\r\n    draw();\r\n    update();\r\n  };\r\n\r\n  const random = (min, max) => Math.ceil(Math.random() * (max - min) + min);\r\n  sprites.current.onload = () => {\r\n    initializeGame();\r\n    animate();  \r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <canvas ref={canvasRef} className=\"canvas\" style={{ border: '1px solid black' }} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameCanvas;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}