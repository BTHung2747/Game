{"ast":null,"code":"var _jsxFileName = \"D:\\\\game\\\\Fontend\\\\src\\\\components\\\\game\\\\GameCanvas.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport spriteSrc from '../../assets/images/sprite.png';\nimport gameOver from '../../assets/images/gameover.png';\nimport messageImgSrc from '../../assets/images/message.png';\nimport downFlapSrc from '../../assets/images/yellowbird-downflap.png';\nimport midFlapSrc from '../../assets/images/yellowbird-midflap.png';\nimport upFlapSrc from '../../assets/images/yellowbird-upflap.png';\nimport pipeTopImgSrc from '../../assets/images/pipe.png';\nimport pipeBottomImgSrc from '../../assets/images/pipe2.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GameCanvas = () => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    canvas.width = 530;\n    canvas.height = 710;\n    const sprites = new Image();\n    sprites.src = spriteSrc;\n    const gameOverImg = new Image();\n    gameOverImg.src = gameOver;\n    const messageImg = new Image();\n    messageImg.src = messageImgSrc;\n    const downFlap = new Image();\n    downFlap.src = downFlapSrc;\n    const midFlap = new Image();\n    midFlap.src = midFlapSrc;\n    const upFlap = new Image();\n    upFlap.src = upFlapSrc;\n    const pipeTopImg = new Image();\n    pipeTopImg.src = pipeTopImgSrc;\n    const pipeBottomImg = new Image();\n    pipeBottomImg.src = pipeBottomImgSrc;\n    let game = 'start';\n    let frame = 0;\n    //Screen\n    const start = {\n      draw: function () {\n        ctx.beginPath();\n        ctx.drawImage(messageImg, canvas.width / 2 - messageImg.width / 2, 200);\n      }\n    };\n    // manf end\n    const end = {\n      draw: function () {\n        ctx.beginPath();\n        ctx.drawImage(gameOverImg, canvas.width / 2 - gameOverImg.width / 2, 200);\n        ctx.drawImage(sprites, 630, 439, 284, 138, canvas.width / 2 - 145, 350, 284, 138);\n        ctx.drawImage(sprites, 631.79, 583.92, 76, 41, canvas.width / 2 - 41.5, 500, 76, 41);\n      }\n    };\n\n    // Background\n    const bg = {\n      sX: 165,\n      sY: 0,\n      sW: 226,\n      sH: 625,\n      cX: 0,\n      cY: 0,\n      cW: 226,\n      // hoặc bất kỳ kích thước canvas nào bạn muốn\n      cH: 625,\n      draw: function () {\n        ctx.beginPath();\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH);\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX + 226, this.cY, this.cW, this.cH);\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX + 452, this.cY, this.cW, this.cH);\n      }\n    };\n    class Ground {\n      constructor(cX, cY) {\n        this.cX = cX;\n        this.cY = cY;\n        this.sX = 628;\n        this.sY = 0;\n        this.sW = 214;\n        this.sH = 143;\n        this.cW = 214;\n        this.cH = 143;\n        this.dx = -2; // nen dat di chuyen\n      }\n      draw() {\n        ctx.beginPath();\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH);\n      }\n    }\n    let arrGround = [];\n    for (let i = 0; i < 4; i++) {\n      let ground = new Ground(215 * i, 625);\n      arrGround.push(ground);\n    }\n    function drawArrGround() {\n      arrGround.forEach(ground => ground.draw());\n    }\n    function updateArrGround() {\n      arrGround.forEach(ground => {\n        ground.cX += ground.dx;\n      });\n\n      // thay doi nen dat neeus het \n      if (arrGround[0].cX <= -336) {\n        arrGround.splice(0, 1);\n        let ground = new Ground(arrGround[2].cX + 215, 625);\n        arrGround.push(ground);\n      }\n    }\n\n    // Random ong\n    function random(min, max) {\n      return Math.ceil(Math.random() * (max - min) + min);\n    }\n\n    // duong ong\n    class Pipes {\n      constructor(cX, cY, space, topImg, bottomImg) {\n        this.cX = cX;\n        this.cY = cY;\n        this.cW = 82;\n        this.cH = 710;\n        this.space = space;\n        this.dx = -2;\n        this.topImg = topImg;\n        this.bottomImg = bottomImg;\n      }\n      draw() {\n        ctx.beginPath();\n        ctx.drawImage(this.topImg, this.cX, this.cY, this.cW, this.cH);\n        ctx.drawImage(this.bottomImg, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\n      }\n    }\n    let arrPipes = [];\n    function newPipes() {\n      for (let i = 0; i < 4; i++) {\n        let pipe = new Pipes(random(530, 600) * i, random(-660, -300), 200);\n        arrPipes.push(pipe);\n      }\n    }\n    newPipes();\n    function drawArrPipe() {\n      arrPipes.forEach(pipe => pipe.draw());\n    }\n    function updateArrPipe() {\n      arrPipes.forEach(pipe => {\n        pipe.cX += pipe.dx;\n      });\n\n      // taoj ong moi\n      if (arrPipes[0].cX <= -82) {\n        arrPipes.splice(0, 1);\n        let pipe = new Pipes(arrPipes[arrPipes.length - 1].cX + random(400, 500), random(-660, -300), random(200, 150));\n        arrPipes.push(pipe);\n      }\n    }\n\n    // diem , so\n    const arrNumber = [{\n      name: 0,\n      sX: 1013,\n      sY: 181,\n      sW: 52,\n      sH: 80,\n      cW: 52,\n      cH: 80\n    }, {\n      name: 1,\n      sX: 1080,\n      sY: 181,\n      sW: 32,\n      sH: 80,\n      cW: 32,\n      cH: 80\n    }, {\n      name: 2,\n      sX: 1127,\n      sY: 181,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 3,\n      sX: 1184,\n      sY: 181,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 4,\n      sX: 1013,\n      sY: 265,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 5,\n      sX: 1070,\n      sY: 265,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 6,\n      sX: 1127,\n      sY: 265,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 7,\n      sX: 1184,\n      sY: 265,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 8,\n      sX: 1013,\n      sY: 349,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }, {\n      name: 9,\n      sX: 1070,\n      sY: 349,\n      sW: 52,\n      sH: 79,\n      cW: 52,\n      cH: 79\n    }];\n    class Score {\n      constructor(value, cX, cY) {\n        this.value = value;\n        this.cX = cX;\n        this.cY = cY;\n      }\n      draw() {\n        ctx.beginPath();\n        if (this.value >= 10) {\n          this.split = this.value.toString().split('');\n          arrNumber.forEach(number => {\n            if (this.split[0] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width / 2 - 52, 60, number.cW, number.cH);\n            }\n            if (this.split[1] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width / 2 + 2, 60, number.cW, number.cH);\n            }\n          });\n        } else {\n          this.split = this.value.toString();\n          arrNumber.forEach(number => {\n            if (this.split[0] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width / 2 - 26, 60, number.cW, number.cH);\n            }\n          });\n        }\n      }\n      drawSmall() {\n        ctx.beginPath();\n        if (this.value >= 10) {\n          this.split = this.value.toString().split('');\n          arrNumber.forEach(number => {\n            if (this.split[0] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX, this.cY, number.cW / 3, number.cH / 3);\n            }\n            if (this.split[1] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX + 18, this.cY, number.cW / 3, number.cH / 3);\n            }\n          });\n        } else {\n          this.split = this.value.toString();\n          arrNumber.forEach(number => {\n            if (this.split[0] == number.name) {\n              ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX + 18, this.cY, number.cW / 3, number.cH / 3);\n            }\n          });\n        }\n      }\n    }\n    let score = new Score(0, 340, 391);\n    let maxScore = new Score(0, 340, 443);\n    // class Bird \n    class Bird {\n      constructor(cX, cY) {\n        this.cX = cX;\n        this.cY = cY;\n        this.cW = 51; // chiều rộng ảnh riêng\n        this.cH = 36; // chiều cao ảnh riêng\n        this.i = 0;\n        this.v = 0;\n        this.a = 0.1;\n        this.animate = [downFlap, midFlap, upFlap];\n      }\n      draw() {\n        ctx.beginPath();\n\n        // thay đổi frame theo game state\n        if (game === 'start') {\n          if (frame % 35 === 0) {\n            this.i = (this.i + 1) % 3;\n          }\n        } else if (game === 'play') {\n          if (frame % 16 === 0) {\n            this.i = (this.i + 1) % 3;\n          }\n        }\n        const img = this.animate[this.i];\n        ctx.drawImage(img, this.cX, this.cY, this.cW, this.cH);\n      }\n      update() {\n        if (game == 'play' || game == 'end') {\n          this.v += this.a;\n          this.cY += this.v;\n          // va tram nen dat\n          if (this.cY + this.cH + this.v >= 625) {\n            game = 'end';\n            this.v = 0;\n            this.cY = 625;\n          }\n          // va cham duong ong \n          if (bird.cX + bird.cW > arrPipes[0].cX && bird.cX < arrPipes[0].cX + arrPipes[0].cW && (bird.cY < arrPipes[0].cY + arrPipes[0].cH || bird.cY + bird.cH > arrPipes[0].cY + arrPipes[0].cH + arrPipes[0].space)) {\n            game = 'end';\n          }\n          // an diem\n          if (bird.cX == arrPipes[0].cX + 82 || bird.cX == arrPipes[0].cX + 81) {\n            score.value++;\n            maxScore.value = Math.max(score.value, maxScore.value);\n          }\n        }\n      }\n    }\n    let bird = new Bird(150, canvas.height / 2 - 12);\n    canvas.addEventListener('click', function (event) {\n      switch (game) {\n        case 'start':\n          game = 'play';\n          break;\n        case 'play':\n          console.log(\"choi game\");\n          bird.v = -4;\n          break;\n        case 'end':\n          console.log(\"end game\");\n          if (event.offsetX > canvas.width / 2 - 41.5 && event.offsetX < canvas.width / 2 + 41.5 && event.offsetY > 500 && event.offsetY < 546) {\n            score.value = 0;\n            arrPipes = [];\n            newPipes();\n            bird.v = 0;\n            bird.cY = canvas.height / 2 - 12;\n            game = 'start';\n          }\n          break;\n      }\n    });\n    function draw() {\n      bg.draw();\n      if (game == 'start') {\n        start.draw();\n      }\n      if (game == 'play') {\n        drawArrPipe();\n      }\n      drawArrGround();\n      if (game == 'play') {\n        score.draw();\n      }\n      bird.draw();\n      if (game == 'end') {\n        end.draw();\n        score.drawSmall();\n        maxScore.drawSmall();\n      }\n    }\n    function update() {\n      if (game == 'play') {\n        updateArrPipe();\n        updateArrGround();\n      }\n      bird.update();\n    }\n    function animate() {\n      requestAnimationFrame(animate);\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      frame++;\n      draw();\n      update();\n    }\n    sprites.onload = () => animate();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef,\n    className: \"canvas block mx-auto bg-sky-100\",\n    width: 530,\n    height: 710\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 389,\n    columnNumber: 5\n  }, this);\n};\n_s(GameCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = GameCanvas;\nexport default GameCanvas;\nvar _c;\n$RefreshReg$(_c, \"GameCanvas\");","map":{"version":3,"names":["useEffect","useRef","spriteSrc","gameOver","messageImgSrc","downFlapSrc","midFlapSrc","upFlapSrc","pipeTopImgSrc","pipeBottomImgSrc","jsxDEV","_jsxDEV","GameCanvas","_s","canvasRef","canvas","current","ctx","getContext","width","height","sprites","Image","src","gameOverImg","messageImg","downFlap","midFlap","upFlap","pipeTopImg","pipeBottomImg","game","frame","start","draw","beginPath","drawImage","end","bg","sX","sY","sW","sH","cX","cY","cW","cH","Ground","constructor","dx","arrGround","i","ground","push","drawArrGround","forEach","updateArrGround","splice","random","min","max","Math","ceil","Pipes","space","topImg","bottomImg","arrPipes","newPipes","pipe","drawArrPipe","updateArrPipe","length","arrNumber","name","Score","value","split","toString","number","drawSmall","score","maxScore","Bird","v","a","animate","img","update","bird","addEventListener","event","console","log","offsetX","offsetY","requestAnimationFrame","clearRect","onload","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/game/Fontend/src/components/game/GameCanvas.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport spriteSrc from '../../assets/images/sprite.png';\r\nimport gameOver from '../../assets/images/gameover.png';\r\nimport messageImgSrc from '../../assets/images/message.png';\r\nimport downFlapSrc from '../../assets/images/yellowbird-downflap.png';\r\nimport midFlapSrc from '../../assets/images/yellowbird-midflap.png';\r\nimport upFlapSrc from '../../assets/images/yellowbird-upflap.png';\r\nimport pipeTopImgSrc from '../../assets/images/pipe.png';\r\nimport pipeBottomImgSrc from '../../assets/images/pipe2.png';\r\n\r\n\r\nconst GameCanvas = () => {\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    canvas.width = 530;\r\n    canvas.height = 710;\r\n\r\n    const sprites = new Image();\r\n    sprites.src = spriteSrc;\r\n    const gameOverImg = new Image();\r\n    gameOverImg.src = gameOver ; \r\n    const messageImg = new Image();\r\n    messageImg.src = messageImgSrc;\r\n\r\n    const downFlap = new Image();\r\n    downFlap.src = downFlapSrc;\r\n    \r\n    const midFlap = new Image();\r\n    midFlap.src = midFlapSrc;\r\n    \r\n    const upFlap = new Image();\r\n    upFlap.src = upFlapSrc;\r\n    \r\n    const pipeTopImg = new Image();\r\n    pipeTopImg.src = pipeTopImgSrc;\r\n\r\n   const pipeBottomImg = new Image();\r\n   pipeBottomImg.src = pipeBottomImgSrc;\r\n\r\nlet game = 'start';\r\nlet frame = 0\r\n//Screen\r\nconst start = {\r\n    draw: function(){\r\n        ctx.beginPath();\r\n        ctx.drawImage(messageImg, canvas.width / 2 - messageImg.width / 2, 200);\r\n\r\n    }\r\n}\r\n// manf end\r\nconst end = {\r\n    draw: function(){\r\n        ctx.beginPath();\r\n        ctx.drawImage(gameOverImg, canvas.width / 2 - gameOverImg.width / 2, 200);\r\n        ctx.drawImage(sprites, 630, 439, 284, 138, canvas.width/2 - 145, 350, 284, 138)\r\n        ctx.drawImage(sprites, 631.79, 583.92, 76, 41, canvas.width/2 - 41.5, 500, 76, 41)\r\n    }\r\n}\r\n\r\n// Background\r\nconst bg = {\r\n    sX: 165,\r\n    sY: 0,\r\n    sW: 226,\r\n    sH: 625,\r\n    cX: 0,\r\n    cY: 0,\r\n    cW: 226,  // hoặc bất kỳ kích thước canvas nào bạn muốn\r\n    cH: 625,\r\n\r\n    draw: function() {\r\n        ctx.beginPath();\r\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH)\r\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX + 226, this.cY, this.cW, this.cH)\r\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX + 452, this.cY, this.cW, this.cH)\r\n\r\n    }\r\n}\r\nclass Ground {\r\n    constructor(cX,cY) {\r\n        this.cX = cX;\r\n        this.cY = cY;\r\n        this.sX = 628;\r\n        this.sY = 0;\r\n        this.sW= 214;\r\n        this.sH= 143;\r\n        this.cW= 214;\r\n        this.cH= 143;\r\n        this.dx= -2;// nen dat di chuyen\r\n\r\n    }\r\n    draw(){\r\n        ctx.beginPath();\r\n        ctx.drawImage(sprites, this.sX, this.sY, this.sW, this.sH, this.cX, this.cY, this.cW, this.cH)\r\n    }\r\n}\r\nlet arrGround = [];\r\n\r\nfor(let i = 0; i<4; i++){\r\n    let ground = new Ground(215 *i, 625)\r\n    arrGround.push(ground);\r\n}\r\nfunction drawArrGround(){\r\n    arrGround.forEach(ground => ground.draw())\r\n}\r\n\r\nfunction updateArrGround(){\r\n    arrGround.forEach(ground => {\r\n        ground.cX += ground.dx;\r\n    })\r\n\r\n    // thay doi nen dat neeus het \r\n    if(arrGround[0].cX <= -336){\r\n        arrGround.splice(0,1);\r\n        let ground = new Ground(arrGround[2].cX + 215, 625);\r\n        arrGround.push(ground);\r\n    }\r\n    \r\n}\r\n\r\n// Random ong\r\nfunction random(min,max) {\r\n  return Math.ceil(Math.random() * (max-min) + min);\r\n}\r\n\r\n// duong ong\r\nclass Pipes {\r\n    constructor(cX, cY, space, topImg, bottomImg) {\r\n      this.cX = cX;\r\n      this.cY = cY;\r\n      this.cW = 82;\r\n      this.cH = 710; \r\n      this.space = space;\r\n      this.dx = -2;\r\n  \r\n      this.topImg = topImg;\r\n      this.bottomImg = bottomImg;\r\n    }\r\n  \r\n    draw() {\r\n      ctx.beginPath();\r\n      ctx.drawImage(this.topImg, this.cX, this.cY, this.cW, this.cH);\r\n      ctx.drawImage(this.bottomImg, this.cX, this.cY + this.cH + this.space, this.cW, this.cH);\r\n    }\r\n  }\r\n  \r\n\r\nlet arrPipes = [];\r\n\r\nfunction newPipes(){\r\n  for(let i = 0; i<4; i++){\r\n      let pipe = new Pipes(random(530, 600) * i , random(-660, -300), 200)\r\n      arrPipes.push(pipe);\r\n  }\r\n\r\n}\r\nnewPipes();\r\n\r\nfunction drawArrPipe(){\r\n  arrPipes.forEach( pipe=> pipe.draw())\r\n}\r\nfunction updateArrPipe(){\r\n  arrPipes.forEach(pipe => {\r\n      pipe.cX += pipe.dx;\r\n  })\r\n\r\n  // taoj ong moi\r\n  if(arrPipes[0].cX <= -82){\r\n      arrPipes.splice(0,1);\r\n      let pipe = new Pipes(arrPipes[arrPipes.length -1].cX + random(400, 500), random(-660, -300), random(200, 150));\r\n      arrPipes.push(pipe);\r\n  }\r\n  \r\n}                      \r\n\r\n\r\n// diem , so\r\nconst arrNumber = [\r\n    { name: 0, sX: 1013, sY: 181, sW: 52, sH: 80, cW: 52, cH: 80 },\r\n    { name: 1, sX: 1080, sY: 181, sW: 32, sH: 80, cW: 32, cH: 80 },\r\n    { name: 2, sX: 1127, sY: 181, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 3, sX: 1184, sY: 181, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 4, sX: 1013, sY: 265, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 5, sX: 1070, sY: 265, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 6, sX: 1127, sY: 265, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 7, sX: 1184, sY: 265, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 8, sX: 1013, sY: 349, sW: 52, sH: 79, cW: 52, cH: 79 },\r\n    { name: 9, sX: 1070, sY: 349, sW: 52, sH: 79, cW: 52, cH: 79 }\r\n  ];\r\n  \r\n\r\nclass Score {\r\n    constructor(value, cX, cY){\r\n        this.value = value;\r\n        this.cX = cX;\r\n        this.cY = cY;\r\n    }\r\n    draw(){\r\n        ctx.beginPath();\r\n        if(this.value >= 10){\r\n            this.split = (this.value.toString()).split('');\r\n            arrNumber.forEach(number => {\r\n                if(this.split[0] == number.name){\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width/2 - 52 , 60, number.cW, number.cH);\r\n                }\r\n                if(this.split[1] == number.name){\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width/2 + 2 , 60, number.cW, number.cH);\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.split = this.value.toString();\r\n            arrNumber.forEach(number => {\r\n                if(this.split[0] == number.name) {\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, canvas.width/2 -26, 60, number.cW, number.cH);\r\n                }\r\n            })\r\n        }\r\n    }\r\n    drawSmall(){\r\n        ctx.beginPath();\r\n        if(this.value>= 10){\r\n            this.split = (this.value.toString()).split('');\r\n            arrNumber.forEach(number => {\r\n                if(this.split[0] == number.name){\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX, this.cY, number.cW/3, number.cH/3);\r\n\r\n                }\r\n                if(this.split[1]== number.name){\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX + 18, this.cY, number.cW/3, number.cH/3);\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            this.split = this.value.toString();\r\n            arrNumber.forEach(number => {\r\n                if(this.split[0] == number.name){\r\n                    ctx.drawImage(sprites, number.sX, number.sY, number.sW, number.sH, this.cX + 18, this.cY, number.cW/3, number.cH/3);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nlet score = new Score(0, 340, 391);\r\nlet maxScore = new Score(0 , 340 , 443);\r\n// class Bird \r\nclass Bird {\r\n    constructor(cX, cY) {\r\n        this.cX = cX;\r\n        this.cY = cY;\r\n        this.cW = 51; // chiều rộng ảnh riêng\r\n        this.cH = 36; // chiều cao ảnh riêng\r\n        this.i = 0;\r\n        this.v = 0;\r\n        this.a = 0.1;\r\n\r\n        this.animate = [downFlap, midFlap, upFlap];\r\n    }\r\n\r\n    draw() {\r\n        ctx.beginPath();\r\n\r\n        // thay đổi frame theo game state\r\n        if (game === 'start') {\r\n            if (frame % 35 === 0) {\r\n                this.i = (this.i + 1) % 3;\r\n            }\r\n        } else if (game === 'play') {\r\n            if (frame % 16 === 0) {\r\n                this.i = (this.i + 1) % 3;\r\n            }\r\n        }\r\n\r\n        const img = this.animate[this.i];\r\n        ctx.drawImage(img, this.cX, this.cY, this.cW, this.cH);\r\n    }\r\n\r\n    update(){\r\n        if(game == 'play' || game== 'end'){\r\n            this.v += this.a;\r\n            this.cY += this.v;\r\n            // va tram nen dat\r\n            if(this.cY + this.cH + this.v >=625) {\r\n                game = 'end';\r\n                this.v= 0 ;\r\n                this.cY = 625 ;\r\n\r\n            }\r\n            // va cham duong ong \r\n            if( bird.cX + bird.cW > arrPipes[0].cX &&\r\n                bird.cX < arrPipes[0].cX + arrPipes[0].cW &&\r\n                (\r\n                    bird.cY < arrPipes[0].cY + arrPipes[0].cH ||\r\n                    bird.cY + bird.cH > arrPipes[0].cY + arrPipes[0].cH + arrPipes[0].space\r\n                )\r\n\r\n\r\n             ){\r\n                game = 'end'\r\n             }\r\n             // an diem\r\n             if(bird.cX == arrPipes[0].cX + 82 || bird.cX == arrPipes[0].cX + 81){\r\n                score.value++;\r\n                maxScore.value = Math.max(score.value, maxScore.value);\r\n             }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nlet bird= new Bird(150, canvas.height / 2 -12)\r\n\r\ncanvas.addEventListener('click', function(event){\r\n    switch(game){\r\n        case 'start':\r\n            game = 'play';\r\n            break\r\n        case 'play':\r\n            console.log(\"choi game\");\r\n            bird.v = -4;\r\n            break\r\n        case 'end':\r\n            console.log(\"end game\");\r\n            if(\r\n                event.offsetX > canvas.width/2 - 41.5 &&\r\n                event.offsetX < canvas.width/2 + 41.5 &&\r\n                event.offsetY > 500 &&\r\n                event.offsetY < 546 \r\n            ) {\r\n                score.value = 0 ;\r\n                arrPipes = [];\r\n                newPipes();\r\n                bird.v = 0;\r\n                bird.cY = canvas.height / 2 - 12;\r\n                game = 'start' ; \r\n\r\n            }\r\n \r\n            break\r\n    }\r\n})\r\n\r\nfunction draw(){\r\n    bg.draw();\r\n    if(game=='start'){\r\n        start.draw();\r\n    }\r\n    if (game == 'play') {\r\n    drawArrPipe();\r\n    \r\n}\r\n\r\n    drawArrGround();\r\n    if(game=='play'){\r\n        score.draw();\r\n    }\r\n    bird.draw();\r\n    if(game=='end'){\r\n        end.draw();\r\n        score.drawSmall();\r\n        maxScore.drawSmall();\r\n    }\r\n}\r\nfunction update(){\r\n    if(game == 'play'){\r\n        updateArrPipe();\r\n        updateArrGround();\r\n    }\r\n    bird.update();\r\n}\r\n\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  ctx.clearRect(0,0, canvas.width, canvas.height);\r\n  frame++;\r\n  draw();\r\n  update();\r\n}\r\n    sprites.onload = () => animate();\r\n  }, []);\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      className=\"canvas block mx-auto bg-sky-100\"\r\n      width={530}\r\n      height={710}\r\n    />\r\n  );\r\n};\r\n  \r\n\r\nexport default GameCanvas ;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}